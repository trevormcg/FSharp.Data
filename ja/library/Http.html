<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>HTTP ユーティリティ
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="FSharp.Data">

    <link rel="stylesheet" id="theme_link" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/4.3.1/materia/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

    <link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico">
    <link type="text/css" rel="stylesheet" href="https://fsprojects.github.io/FSharp.Data/content/navbar-fixed-left.css" />
    <link type="text/css" rel="stylesheet" href="https://fsprojects.github.io/FSharp.Data/content/fsdocs-default.css" />
    <link type="text/css" rel="stylesheet" href="https://fsprojects.github.io/FSharp.Data/content/fsdocs-custom.css" />
    <script type="text/javascript" src="https://fsprojects.github.io/FSharp.Data/content/fsdocs-tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
    <!-- END SEARCH BOX: this adds support for the search box -->
    
</head>

<body>
    <nav class="navbar navbar-expand-md navbar-light bg-secondary fixed-left" id="fsdocs-nav">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
            <a href="https://fsprojects.github.io/FSharp.Data/"><img id="fsdocs-logo" src="https://fsprojects.github.io/FSharp.Data/img/logo.png" /></a>
            <!-- BEGIN SEARCH BOX: this adds support for the search box -->
            <div id="header">
                <div class="searchbox" id="fsdocs-searchbox">
                    <label for="search-by">
                        <i class="fas fa-search"></i>
                    </label>
                    <input data-search-input="" id="search-by" type="search" placeholder="Search..." />
                    <span data-search-clear="">
                        <i class="fas fa-times"></i>
                    </span>
                </div>
            </div>

            <!-- END SEARCH BOX: this adds support for the search box -->
            <ul class="navbar-nav">
                <li class="nav-header">Links</li>
                <li class="nav-item" id="fsdocs-license-link"><a class="nav-link" href="https://github.com/fsprojects/FSharp.Data/blob/master/LICENSE.md">License</a></li>
                <li class="nav-item" id="fsdocs-release-notes-link"><a class="nav-link" href="https://github.com/fsprojects/FSharp.Data/blob/master/RELEASE_NOTES.md">Release Notes</a></li>
                <li class="nav-item" id="fsdocs-repository-link"><a class="nav-link" href="https://github.com/fsprojects/FSharp.Data/">Source Repository</a></li>
                <li class="nav-header">
  Type Providers
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/CsvProvider.html">
    CSV Type Provider

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/HtmlProvider.html">
    HTML Type Provider

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/JsonProvider.html">
    JSON Type Provider

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/XmlProvider.html">
    XML Type Provider

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/WorldBank.html">
    WorldBank Provider

  </a>
</li>             
<li class="nav-header">
  Utilities
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/CsvFile.html">
    CSV Parser

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/HtmlCssSelectors.html">
    HTML CSS selectors

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/HtmlParser.html">
    HTML Parser

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/Http.html">
    HTTP Utilities

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/JsonValue.html">
    JSON Parser

  </a>
</li>             
<li class="nav-header">
  Tutorials
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/tutorials/JsonAnonymizer.html">
    Anonymizing JSON

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/tutorials/JsonToXml.html">
    Converting between JSON and XML

  </a>
</li>
                <li class="nav-header">
  API Reference
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/reference/index.html">
    All Namespaces
  </a>
</li>
            </ul>
        </div>
    </nav>
    <div class="container">
        <div class="masthead">
            <h3 class="muted"><a href="https://fsprojects.github.io/FSharp.Data/">FSharp.Data</a></h3>
        </div>
        <hr />
        <div class="container" id="fsdocs-content">
            <h1><a name="HTTP-ユーティリティ" class="anchor" href="#HTTP-ユーティリティ">HTTP ユーティリティ</a></h1>
<p>.NETライブラリにはHTTP Webリクエストを作成して送信するための
強力なAPIが用意されています。
具体的には単純な <code>WebClient</code> 型(<a href="http://msdn.microsoft.com/en-us/library/system.net.webclient.aspx">MSDN</a> を参照)や、
より柔軟な機能を持った <code>HttpWebRequest</code> (<a href="http://msdn.microsoft.com/en-us/library/system.net.httpwebrequest.aspx">MSDN</a> を参照)があります。
しかしこれらはいずれも、HTTP POSTデータや追加のヘッダなど、
特定の引数を指定した単純なHTTPリクエストを手軽に実行することには向いていません。</p>
<p>F# Dataライブラリにはオーバーロードを持った4つのメソッドを含む、
単純な <code>Http</code> 型があります。
<code>RequestString</code> と <code>AsyncRequestString</code> メソッドは単純なリクエストを作成して、
同期的あるいは非同期的にリクエストを送信できます。
また <code>Request</code> とその非同期バージョン <code>AsyncRequest</code> を使うと
バイナリファイルを送信したり、ステータスコードや応答URL、
受信ヘッダやクッキーなど、レスポンスの詳細情報を知ることができます。</p>
<p>この型を使うには、まず(F# Interactiveの場合は) <code>#r</code> あるいはプロジェクトで
参照の追加を行ってライブラリを参照する必要があります。
この型は <code>FSharp.Data</code> 名前空間にあります：</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="id">Data</span>
</code></pre>
<h2><a name="単純なリクエストの送信" class="anchor" href="#単純なリクエストの送信">単純なリクエストの送信</a></h2>
<p>特定のWebページをダウンロードするような単純なHTTP (GET) リクエストを送信するには、
<code>Http.RequestString</code> あるいは <code>Http.AsyncRequestString</code> にたった1つの引数を
指定するだけです：</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Webサイトのコンテンツをダウンロード</span>
<span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="rt">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="id">RequestString</span><span class="pn">(</span><span class="s">&quot;http://tomasp.net&quot;</span><span class="pn">)</span>

<span class="c">// Webサイトから非同期的にダウンロード</span>
<span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="k">async</span> <span class="pn">{</span> <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs6', 6)" onmouseover="showTip(event, 'fs6', 6)" class="fn">html</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs3', 7)" onmouseover="showTip(event, 'fs3', 7)" class="rt">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs7', 8)" onmouseover="showTip(event, 'fs7', 8)" class="id">AsyncRequestString</span><span class="pn">(</span><span class="s">&quot;http://tomasp.net&quot;</span><span class="pn">)</span>
        <span onmouseout="hideTip(event, 'fs8', 9)" onmouseover="showTip(event, 'fs8', 9)" class="fn">printfn</span> <span class="s">&quot;</span><span class="pf">%d</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs6', 10)" onmouseover="showTip(event, 'fs6', 10)" class="fn">html</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs9', 11)" onmouseover="showTip(event, 'fs9', 11)" class="id">Length</span> <span class="pn">}</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs10', 12)" onmouseover="showTip(event, 'fs10', 12)" class="rt">Async</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs11', 13)" onmouseover="showTip(event, 'fs11', 13)" class="id">Start</span>
</code></pre>
<p><code>AsyncRequestString</code> は <code>RequestString</code> と全く同じ方法で使うことができるため、
以降では <code>RequestString</code> だけを使います。</p>
<h2><a name="クエリ引数とヘッダ" class="anchor" href="#クエリ引数とヘッダ">クエリ引数とヘッダ</a></h2>
<p>クエリ引数は引数を含んだURLを用意するか、
<code>query</code> という省略可能な引数を使って指定できます。
以下では明示的にGETメソッドであることを指定していますが、
省略した場合には自動的にGETになります：</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs3', 14)" onmouseover="showTip(event, 'fs3', 14)" class="rt">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs4', 15)" onmouseover="showTip(event, 'fs4', 15)" class="id">RequestString</span><span class="pn">(</span><span class="s">&quot;http://httpbin.org/get&quot;</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs12', 16)" onmouseover="showTip(event, 'fs12', 16)" class="fn">query</span><span class="o">=</span><span class="pn">[</span><span class="s">&quot;test&quot;</span><span class="pn">,</span> <span class="s">&quot;foo&quot;</span><span class="pn">]</span><span class="pn">,</span> <span class="fn">httpMethod</span><span class="o">=</span><span class="s">&quot;Get&quot;</span><span class="pn">)</span>
</code></pre>
<p>同じように、省略可能な引数 <code>headers</code> を使うと追加のヘッダを指定できます。
このコレクションには独自のヘッダを追加できますが、
Acceptヘッダのような標準的なヘッダも含まれています
( <code>HttpWebRequest</code> の場合には特定のプロパティに設定する必要があります)。</p>
<p>以下では <a href="http://www.themoviedb.org">The Movie Database</a> APIを使って
「batman」という単語を検索しています。
サンプルを実行するためには登録をしてAPIキーを取得する必要があります：</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// http://www.themoviedb.org 用のAPIキー</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs13', 17)" onmouseover="showTip(event, 'fs13', 17)" class="id">apiKey</span> <span class="o">=</span> <span class="s">&quot;&lt;登録してキーを取得してください&gt;&quot;</span>

<span class="c">// HTTP Webリクエストを実行</span>
<span onmouseout="hideTip(event, 'fs3', 18)" onmouseover="showTip(event, 'fs3', 18)" class="rt">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs4', 19)" onmouseover="showTip(event, 'fs4', 19)" class="id">RequestString</span>
  <span class="pn">(</span> <span class="s">&quot;http://api.themoviedb.org/3/search/movie&quot;</span><span class="pn">,</span> <span class="fn">httpMethod</span> <span class="o">=</span> <span class="s">&quot;GET&quot;</span><span class="pn">,</span>
    <span onmouseout="hideTip(event, 'fs12', 20)" onmouseover="showTip(event, 'fs12', 20)" class="fn">query</span>   <span class="o">=</span> <span class="pn">[</span> <span class="s">&quot;api_key&quot;</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs13', 21)" onmouseover="showTip(event, 'fs13', 21)" class="id">apiKey</span><span class="pn">;</span> <span class="s">&quot;query&quot;</span><span class="pn">,</span> <span class="s">&quot;batman&quot;</span> <span class="pn">]</span><span class="pn">,</span>
    <span class="fn">headers</span> <span class="o">=</span> <span class="pn">[</span> <span class="s">&quot;Accept&quot;</span><span class="pn">,</span> <span class="s">&quot;application/json&quot;</span> <span class="pn">]</span><span class="pn">)</span>
</code></pre>
<p>このライブラリでは(先の例のように)単純かつチェックのない文字列ベースのAPIがサポートされていますが、
スペルミスを防ぐことができるよう、あらかじめ定義されたヘッダ名を使うこともできます。
名前付きヘッダは <code>HttpRequestHeaders</code> (および <code>HttpResponseHeaders</code>) モジュールで定義されているため、
<code>HttpRequestHeaders.Accept</code> のようにフルネームを指定するか、
以下の例のようにモジュールをオープンしておいてから <code>Accept</code> のような短い名前で指定することになります。
同様に、 <code>HttpContentTypes</code> 列挙体には既知のコンテンツタイプ名が定義されています：</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 22)" onmouseover="showTip(event, 'fs1', 22)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 23)" onmouseover="showTip(event, 'fs2', 23)" class="id">Data</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 24)" onmouseover="showTip(event, 'fs14', 24)" class="m">HttpRequestHeaders</span>
</code></pre>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// HTTP Webリクエストを実行</span>
<span onmouseout="hideTip(event, 'fs3', 25)" onmouseover="showTip(event, 'fs3', 25)" class="rt">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs4', 26)" onmouseover="showTip(event, 'fs4', 26)" class="id">RequestString</span>
  <span class="pn">(</span> <span class="s">&quot;http://api.themoviedb.org/3/search/movie&quot;</span><span class="pn">,</span>
    <span onmouseout="hideTip(event, 'fs12', 27)" onmouseover="showTip(event, 'fs12', 27)" class="fn">query</span>   <span class="o">=</span> <span class="pn">[</span> <span class="s">&quot;api_key&quot;</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs13', 28)" onmouseover="showTip(event, 'fs13', 28)" class="id">apiKey</span><span class="pn">;</span> <span class="s">&quot;query&quot;</span><span class="pn">,</span> <span class="s">&quot;batman&quot;</span> <span class="pn">]</span><span class="pn">,</span>
    <span class="fn">headers</span> <span class="o">=</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs15', 29)" onmouseover="showTip(event, 'fs15', 29)" class="fn">Accept</span> <span onmouseout="hideTip(event, 'fs16', 30)" onmouseover="showTip(event, 'fs16', 30)" class="m">HttpContentTypes</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs17', 31)" onmouseover="showTip(event, 'fs17', 31)" class="id">Json</span> <span class="pn">]</span><span class="pn">)</span>
</code></pre>
<h2><a name="特別な情報の取得" class="anchor" href="#特別な情報の取得">特別な情報の取得</a></h2>
<p>先のコードスニペットでは、正しいAPIキーを指定しなかった場合には(401)認証エラーが返され、
例外が発生することに注意してください。
ただし <code>WebRequest</code> を直接使用した場合とは異なり、例外メッセージには返されたコンテンツの情報も含まれるため、
サーバーが特別な情報を返すような場合であってもF# Interactiveで簡単にデバッグできます。</p>
<p>また <code>silentHttpErrors</code> 引数を設定することによって例外を無効化することもできます:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs3', 32)" onmouseover="showTip(event, 'fs3', 32)" class="rt">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs4', 33)" onmouseover="showTip(event, 'fs4', 33)" class="id">RequestString</span><span class="pn">(</span><span class="s">&quot;http://api.themoviedb.org/3/search/movie&quot;</span><span class="pn">,</span> <span class="fn">silentHttpErrors</span> <span class="o">=</span> <span class="k">true</span><span class="pn">)</span>
</code></pre>
<p>この結果は以下のようになります：</p>
<table class="pre"><tr><td><pre><code>"{"status_code":7,"status_message":"Invalid API key: You must be granted a valid key.","success":false}
"</code></pre></td></tr></table>
<p>この場合にはHTTPステータスコードを確認すればよいため、実際にレスポンスとして返されたデータと
エラーメッセージとを混同することもないでしょう。
ステータスコードやレスポンスヘッダー、返されたクッキー、レスポンスURL
(リダイレクトされた場合にはリクエストを投げたURLとは別の値が返されることがあります)など、
レスポンスの詳細を確認したい場合には <code>RequestString</code> の代わりに <code>Request</code> メソッドを使用します:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs18', 34)" onmouseover="showTip(event, 'fs18', 34)" class="id">response</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs3', 35)" onmouseover="showTip(event, 'fs3', 35)" class="rt">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs19', 36)" onmouseover="showTip(event, 'fs19', 36)" class="id">Request</span><span class="pn">(</span><span class="s">&quot;http://api.themoviedb.org/3/search/movie&quot;</span><span class="pn">,</span> <span class="fn">silentHttpErrors</span> <span class="o">=</span> <span class="k">true</span><span class="pn">)</span>

<span class="c">// レスポンスの詳細を確認する</span>
<span onmouseout="hideTip(event, 'fs18', 37)" onmouseover="showTip(event, 'fs18', 37)" class="id">response</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs20', 38)" onmouseover="showTip(event, 'fs20', 38)" class="id">Headers</span>
<span onmouseout="hideTip(event, 'fs18', 39)" onmouseover="showTip(event, 'fs18', 39)" class="id">response</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs21', 40)" onmouseover="showTip(event, 'fs21', 40)" class="id">Cookies</span>
<span onmouseout="hideTip(event, 'fs18', 41)" onmouseover="showTip(event, 'fs18', 41)" class="id">response</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs22', 42)" onmouseover="showTip(event, 'fs22', 42)" class="id">ResponseUrl</span>
<span onmouseout="hideTip(event, 'fs18', 43)" onmouseover="showTip(event, 'fs18', 43)" class="id">response</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs23', 44)" onmouseover="showTip(event, 'fs23', 44)" class="id">StatusCode</span>
</code></pre>
<h2><a name="リクエストデータの送信" class="anchor" href="#リクエストデータの送信">リクエストデータの送信</a></h2>
<p>HTTP POSTデータを含んだPOSTリクエストを作成したい場合は、
オプション引数 <code>body</code> に追加データを指定するだけです。
この引数は3つのケースを持った判別共用体 <code>HttpRequestBody</code> 型です：</p>
<ul>
<li><code>TextRequest</code> はリクエストの本体で文字列を送信するために使用します</li>
<li><code>BinaryUpload</code> はリクエストにバイナリデータを含めて送信する場合に使用します</li>
<li>
<code>FormValues</code> は特定のフォームの値を名前と値のペアとして
送信するために使用します
</li>
</ul>
<p>bodyを指定した場合、引数 <code>httpMethod</code> には自動的に <code>Post</code> が設定されるようになるため、
明示的に指定する必要はありません。</p>
<p>以下ではリクエストの詳細を返すサービス
<a href="http://httpbin.org">httpbin.org</a>
を使っています：</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs3', 45)" onmouseover="showTip(event, 'fs3', 45)" class="rt">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs4', 46)" onmouseover="showTip(event, 'fs4', 46)" class="id">RequestString</span><span class="pn">(</span><span class="s">&quot;http://httpbin.org/post&quot;</span><span class="pn">,</span> <span class="fn">body</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs24', 47)" onmouseover="showTip(event, 'fs24', 47)" class="uc">FormValues</span> <span class="pn">[</span><span class="s">&quot;test&quot;</span><span class="pn">,</span> <span class="s">&quot;foo&quot;</span><span class="pn">]</span><span class="pn">)</span>
</code></pre>
<p>デフォルトでは <code>Content-Type</code> ヘッダには <code>HttpRequestBody</code> に指定した値に応じて
<code>text/plain</code> <code>application/x-www-form-urlencoded</code> <code>application/octet-stream</code>
のいずれかが設定されます。
ただしオプション引数 <code>headers</code> を使ってヘッダのリストに <code>content-type</code> を
追加することでこの動作を変更できます：</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs3', 48)" onmouseover="showTip(event, 'fs3', 48)" class="rt">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs4', 49)" onmouseover="showTip(event, 'fs4', 49)" class="id">RequestString</span>
  <span class="pn">(</span> <span class="s">&quot;http://httpbin.org/post&quot;</span><span class="pn">,</span> 
    <span class="fn">headers</span> <span class="o">=</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs25', 50)" onmouseover="showTip(event, 'fs25', 50)" class="fn">ContentType</span> <span onmouseout="hideTip(event, 'fs16', 51)" onmouseover="showTip(event, 'fs16', 51)" class="m">HttpContentTypes</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs17', 52)" onmouseover="showTip(event, 'fs17', 52)" class="id">Json</span> <span class="pn">]</span><span class="pn">,</span>
    <span class="fn">body</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs26', 53)" onmouseover="showTip(event, 'fs26', 53)" class="uc">TextRequest</span> <span class="s">&quot;&quot;&quot; {&quot;test&quot;: 42} &quot;&quot;&quot;</span><span class="pn">)</span>
</code></pre>
<h2><a name="リクエスト間でクッキーを管理する" class="anchor" href="#リクエスト間でクッキーを管理する">リクエスト間でクッキーを管理する</a></h2>
<p>リクエスト間でクッキーを管理したい場合には、
引数 <code>cookieContainer</code> を指定します。
以下では <code>HttpRequest</code> クラスに関するMSDNドキュメントをリクエストしています。
そうするとF#ではなくC#のコードスニペットが表示されます：</p>
<p>(NOTE: This is an old sample and typechecks, but does not execute)</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// 特定のクラスに関するドキュメント用のURLを用意する</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs27', 54)" onmouseover="showTip(event, 'fs27', 54)" class="fn">msdnUrl</span> <span onmouseout="hideTip(event, 'fs28', 55)" onmouseover="showTip(event, 'fs28', 55)" class="fn">className</span> <span class="o">=</span> 
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs29', 56)" onmouseover="showTip(event, 'fs29', 56)" class="fn">root</span> <span class="o">=</span> <span class="s">&quot;http://msdn.microsoft.com&quot;</span>
  <span onmouseout="hideTip(event, 'fs30', 57)" onmouseover="showTip(event, 'fs30', 57)" class="fn">sprintf</span> <span class="s">&quot;</span><span class="pf">%s</span><span class="s">/en-gb/library/</span><span class="pf">%s</span><span class="s">.aspx&quot;</span> <span onmouseout="hideTip(event, 'fs29', 58)" onmouseover="showTip(event, 'fs29', 58)" class="fn">root</span> <span onmouseout="hideTip(event, 'fs28', 59)" onmouseover="showTip(event, 'fs28', 59)" class="fn">className</span>

<span class="c">// ページを取得してF#コードを検索する</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs31', 60)" onmouseover="showTip(event, 'fs31', 60)" class="id">docInCSharp</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs3', 61)" onmouseover="showTip(event, 'fs3', 61)" class="rt">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs4', 62)" onmouseover="showTip(event, 'fs4', 62)" class="id">RequestString</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs27', 63)" onmouseover="showTip(event, 'fs27', 63)" class="fn">msdnUrl</span> <span class="s">&quot;system.web.httprequest&quot;</span><span class="pn">)</span>
<span onmouseout="hideTip(event, 'fs31', 64)" onmouseover="showTip(event, 'fs31', 64)" class="id">docInCSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs32', 65)" onmouseover="showTip(event, 'fs32', 65)" class="id">Contains</span> <span class="s">&quot;&lt;a&gt;F#&lt;/a&gt;&quot;</span>
</code></pre>
<p>別のMSDNのページに移動してF#のコード例をクリックしてから
<code>HttpRequest</code> クラスのドキュメントに戻ってくると、
同じ <code>cookieContainer</code> を保持し続けている限りはF#のコードが
表示されるようになります：</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs33', 66)" onmouseover="showTip(event, 'fs33', 66)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs34', 67)" onmouseover="showTip(event, 'fs34', 67)" class="id">Net</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs35', 68)" onmouseover="showTip(event, 'fs35', 68)" class="id">cc</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs36', 69)" onmouseover="showTip(event, 'fs36', 69)" class="fn">CookieContainer</span><span class="pn">(</span><span class="pn">)</span>

<span class="c">// 言語を切り替えるためのリクエストを送信</span>
<span onmouseout="hideTip(event, 'fs37', 70)" onmouseover="showTip(event, 'fs37', 70)" class="id">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs38', 71)" onmouseover="showTip(event, 'fs38', 71)" class="id">RequestString</span>
  <span class="pn">(</span> <span onmouseout="hideTip(event, 'fs27', 72)" onmouseover="showTip(event, 'fs27', 72)" class="fn">msdnUrl</span> <span class="s">&quot;system.datetime&quot;</span><span class="pn">,</span> 
    <span onmouseout="hideTip(event, 'fs12', 73)" onmouseover="showTip(event, 'fs12', 73)" class="fn">query</span> <span class="o">=</span> <span class="pn">[</span><span class="s">&quot;cs-save-lang&quot;</span><span class="pn">,</span> <span class="s">&quot;1&quot;</span><span class="pn">;</span> <span class="s">&quot;cs-lang&quot;</span><span class="pn">,</span><span class="s">&quot;fsharp&quot;</span><span class="pn">]</span><span class="pn">,</span> 
    <span class="fn">cookieContainer</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs35', 74)" onmouseover="showTip(event, 'fs35', 74)" class="id">cc</span><span class="pn">)</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs39', 75)" onmouseover="showTip(event, 'fs39', 75)" class="fn">ignore</span>

<span class="c">// 再度ドキュメントをリクエストしてF#のコードを検索</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs40', 76)" onmouseover="showTip(event, 'fs40', 76)" class="id">docInFSharp</span> <span class="o">=</span> 
  <span onmouseout="hideTip(event, 'fs37', 77)" onmouseover="showTip(event, 'fs37', 77)" class="id">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs38', 78)" onmouseover="showTip(event, 'fs38', 78)" class="id">RequestString</span>
    <span class="pn">(</span> <span onmouseout="hideTip(event, 'fs27', 79)" onmouseover="showTip(event, 'fs27', 79)" class="fn">msdnUrl</span> <span class="s">&quot;system.web.httprequest&quot;</span><span class="pn">,</span> 
      <span class="fn">cookieContainer</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs35', 80)" onmouseover="showTip(event, 'fs35', 80)" class="id">cc</span> <span class="pn">)</span>
<span onmouseout="hideTip(event, 'fs40', 81)" onmouseover="showTip(event, 'fs40', 81)" class="id">docInFSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs32', 82)" onmouseover="showTip(event, 'fs32', 82)" class="id">Contains</span> <span class="s">&quot;&lt;a&gt;F#&lt;/a&gt;&quot;</span>
</code></pre>
<h2><a name="バイナリデータの送信" class="anchor" href="#バイナリデータの送信">バイナリデータの送信</a></h2>
<p><code>RequestString</code> メソッドでは常に <code>string</code> としてレスポンスが返されます。
しかし <code>Request</code> メソッドの場合にはレスポンスの <code>content-type</code> ヘッダに応じて
<code>HttpResponseBody.Text</code> または <code>HttpResponseBody.Binary</code> が返されます：</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs41', 83)" onmouseover="showTip(event, 'fs41', 83)" class="id">logoUrl</span> <span class="o">=</span> <span class="s">&quot;https://raw.github.com/fsharp/FSharp.Data/master/misc/logo.png&quot;</span>
<span class="k">match</span> <span onmouseout="hideTip(event, 'fs37', 84)" onmouseover="showTip(event, 'fs37', 84)" class="id">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs42', 85)" onmouseover="showTip(event, 'fs42', 85)" class="id">Request</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs41', 86)" onmouseover="showTip(event, 'fs41', 86)" class="id">logoUrl</span><span class="pn">)</span><span class="pn">.</span><span class="id">Body</span> <span class="k">with</span>
<span class="pn">|</span> <span onmouseout="hideTip(event, 'fs43', 87)" onmouseover="showTip(event, 'fs43', 87)" class="uc">Text</span> <span onmouseout="hideTip(event, 'fs44', 88)" onmouseover="showTip(event, 'fs44', 88)" class="fn">text</span> <span class="k">-&gt;</span> 
    <span onmouseout="hideTip(event, 'fs8', 89)" onmouseover="showTip(event, 'fs8', 89)" class="fn">printfn</span> <span class="s">&quot;Got text content: </span><span class="pf">%s</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs44', 90)" onmouseover="showTip(event, 'fs44', 90)" class="fn">text</span>
<span class="pn">|</span> <span onmouseout="hideTip(event, 'fs45', 91)" onmouseover="showTip(event, 'fs45', 91)" class="uc">Binary</span> <span onmouseout="hideTip(event, 'fs46', 92)" onmouseover="showTip(event, 'fs46', 92)" class="fn">bytes</span> <span class="k">-&gt;</span> 
    <span onmouseout="hideTip(event, 'fs8', 93)" onmouseover="showTip(event, 'fs8', 93)" class="fn">printfn</span> <span class="s">&quot;Got </span><span class="pf">%d</span><span class="s"> bytes of binary content&quot;</span> <span onmouseout="hideTip(event, 'fs46', 94)" onmouseover="showTip(event, 'fs46', 94)" class="fn">bytes</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs47', 95)" onmouseover="showTip(event, 'fs47', 95)" class="id">Length</span>
</code></pre>
<h2><a name="HTTPリクエストのカスタマイズ" class="anchor" href="#HTTPリクエストのカスタマイズ">HTTPリクエストのカスタマイズ</a></h2>
<p>ライブラリに元々備えられていないような機能を使用したい場合には、
<code>customizeHttpRequest</code> 引数を設定することになります。
この引数には <code>HttpWebRequest</code> を変更するための関数を指定します。</p>
<p>たとえばリクエストにクライアント証明書を追加したいとします。
そのためにはまず <code>System.Security.Cryptography</code> 以下の
<code>X509Certificates</code> 名前空間をオープンして、
<code>X509ClientCertificate2</code> の値を用意し、
この値をリクエストの <code>ClientCertificates</code> リストに追加します。</p>
<p>証明書が <code>myCertificate.pfx</code> に格納されているとすると、
以下のようなコードになります：</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs33', 96)" onmouseover="showTip(event, 'fs33', 96)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs48', 97)" onmouseover="showTip(event, 'fs48', 97)" class="id">Security</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs49', 98)" onmouseover="showTip(event, 'fs49', 98)" class="id">Cryptography</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs50', 99)" onmouseover="showTip(event, 'fs50', 99)" class="id">X509Certificates</span>

<span class="c">// ローカルファイルから証明書を読み取り</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs51', 100)" onmouseover="showTip(event, 'fs51', 100)" class="d">clientCert</span> <span class="o">=</span> 
  <span class="k">new</span> <span onmouseout="hideTip(event, 'fs52', 101)" onmouseover="showTip(event, 'fs52', 101)" class="d">X509Certificate2</span><span class="pn">(</span><span class="s">&quot;.\myCertificate.pfx&quot;</span><span class="pn">,</span> <span class="s">&quot;password&quot;</span><span class="pn">)</span>

<span class="c">// 証明書付きでリクエストを送信</span>
<span onmouseout="hideTip(event, 'fs37', 102)" onmouseover="showTip(event, 'fs37', 102)" class="id">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs42', 103)" onmouseover="showTip(event, 'fs42', 103)" class="id">Request</span>
  <span class="pn">(</span> <span class="s">&quot;http://yourprotectedresouce.com/data&quot;</span><span class="pn">,</span>
    <span class="fn">customizeHttpRequest</span> <span class="o">=</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs53', 104)" onmouseover="showTip(event, 'fs53', 104)" class="fn">req</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs53', 105)" onmouseover="showTip(event, 'fs53', 105)" class="fn">req</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs54', 106)" onmouseover="showTip(event, 'fs54', 106)" class="prop">ClientCertificates</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs55', 107)" onmouseover="showTip(event, 'fs55', 107)" class="id">Add</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs51', 108)" onmouseover="showTip(event, 'fs51', 108)" class="d">clientCert</span><span class="pn">)</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs39', 109)" onmouseover="showTip(event, 'fs39', 109)" class="fn">ignore</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs53', 110)" onmouseover="showTip(event, 'fs53', 110)" class="fn">req</span><span class="pn">)</span>
</code></pre>
<h2><a name="関連する記事" class="anchor" href="#関連する記事">関連する記事</a></h2>
<ul>
<li><a href="../../reference/fsharp-data-http.html">API リファレンス: HTTP クラス</a></li>
<li><a href="../../reference/fsharp-data-httpmethod.html">API リファレンス: HttpMethod モジュール</a></li>
<li><a href="../../reference/fsharp-data-httprequestheaders.html">API リファレンス: HttpRequestHeaders モジュール</a></li>
<li><a href="../../reference/fsharp-data-httpresponseheaders.html">API リファレンス: HttpResponseHeaders モジュール</a></li>
<li><a href="../../reference/fsharp-data-httpcontenttypes.html">API リファレンス: HttpContentTypes モジュール</a></li>
<li><a href="../../reference/fsharp-data-httprequestbody.html">API リファレンス: HttpRequestBody 判別共用体</a></li>
<li><a href="../../reference/fsharp-data-httpresponse.html">API リファレンス: HttpResponse レコード</a></li>
<li><a href="../../reference/fsharp-data-httpresponsebody.html">API リファレンス: HttpResponseBody 判別共用体</a></li>
<li><a href="../../reference/fsharp-data-httpresponsewithstream.html">API リファレンス: HttpResponseWithStream レコード</a></li>
</ul>

            <div class="fsdocs-tip" id="fs1">Multiple items<br />namespace FSharp<br /><br />--------------------<br />namespace Microsoft.FSharp</div>
<div class="fsdocs-tip" id="fs2">Multiple items<br />namespace FSharp.Data<br /><br />--------------------<br />namespace Microsoft.FSharp.Data</div>
<div class="fsdocs-tip" id="fs3">type Http =<br />&#160;&#160;private new : unit -&gt; Http<br />&#160;&#160;static member private AppendQueryToUrl : url:string * query:(string * string) list -&gt; string<br />&#160;&#160;static member AsyncRequest : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; Async&lt;HttpResponse&gt;<br />&#160;&#160;static member AsyncRequestStream : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; Async&lt;HttpResponseWithStream&gt;<br />&#160;&#160;static member AsyncRequestString : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; Async&lt;string&gt;<br />&#160;&#160;static member private EncodeFormData : query:string -&gt; string<br />&#160;&#160;static member private InnerRequest : url:string * toHttpResponse:(string -&gt; int -&gt; string -&gt; string -&gt; &#39;a0 option -&gt; Map&lt;string,string&gt; -&gt; Map&lt;string,string&gt; -&gt; Stream -&gt; Async&lt;&#39;a1&gt;) * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:&#39;a0 * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; Async&lt;&#39;a1&gt;<br />&#160;&#160;static member Request : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; HttpResponse<br />&#160;&#160;static member RequestStream : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; HttpResponseWithStream<br />&#160;&#160;static member RequestString : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; string</div>
<div class="fsdocs-tip" id="fs4">static member Http.RequestString : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:System.Net.CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(System.Net.HttpWebRequest -&gt; System.Net.HttpWebRequest) * ?timeout:int -&gt; string</div>
<div class="fsdocs-tip" id="fs5">val async : AsyncBuilder</div>
<div class="fsdocs-tip" id="fs6">val html : string</div>
<div class="fsdocs-tip" id="fs7">static member Http.AsyncRequestString : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:System.Net.CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(System.Net.HttpWebRequest -&gt; System.Net.HttpWebRequest) * ?timeout:int -&gt; Async&lt;string&gt;</div>
<div class="fsdocs-tip" id="fs8">val printfn : format:Printf.TextWriterFormat&lt;&#39;T&gt; -&gt; &#39;T</div>
<div class="fsdocs-tip" id="fs9">property System.String.Length: int with get</div>
<div class="fsdocs-tip" id="fs10">Multiple items<br />type Async =<br />&#160;&#160;static member AsBeginEnd : computation:(&#39;Arg -&gt; Async&lt;&#39;T&gt;) -&gt; (&#39;Arg * AsyncCallback * obj -&gt; IAsyncResult) * (IAsyncResult -&gt; &#39;T) * (IAsyncResult -&gt; unit)<br />&#160;&#160;static member AwaitEvent : event:IEvent&lt;&#39;Del,&#39;T&gt; * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt; (requires delegate and &#39;Del :&gt; Delegate)<br />&#160;&#160;static member AwaitIAsyncResult : iar:IAsyncResult * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />&#160;&#160;static member AwaitTask : task:Task&lt;&#39;T&gt; -&gt; Async&lt;&#39;T&gt; + 1 overload<br />&#160;&#160;static member AwaitWaitHandle : waitHandle:WaitHandle * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />&#160;&#160;static member CancelDefaultToken : unit -&gt; unit<br />&#160;&#160;static member Catch : computation:Async&lt;&#39;T&gt; -&gt; Async&lt;Choice&lt;&#39;T,exn&gt;&gt;<br />&#160;&#160;static member Choice : computations:seq&lt;Async&lt;&#39;T option&gt;&gt; -&gt; Async&lt;&#39;T option&gt;<br />&#160;&#160;static member FromBeginEnd : beginAction:(AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt; + 3 overloads<br />&#160;&#160;static member FromContinuations : callback:((&#39;T -&gt; unit) * (exn -&gt; unit) * (OperationCanceledException -&gt; unit) -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />&#160;&#160;...<br /><br />--------------------<br />type Async&lt;&#39;T&gt; =</div>
<div class="fsdocs-tip" id="fs11">static member Async.Start : computation:Async&lt;unit&gt; * ?cancellationToken:System.Threading.CancellationToken -&gt; unit</div>
<div class="fsdocs-tip" id="fs12">val query : Linq.QueryBuilder</div>
<div class="fsdocs-tip" id="fs13">val apiKey : string</div>
<div class="fsdocs-tip" id="fs14">module HttpRequestHeaders<br /><br />from FSharp.Data</div>
<div class="fsdocs-tip" id="fs15">val Accept : contentType:string -&gt; string * string</div>
<div class="fsdocs-tip" id="fs16">module HttpContentTypes<br /><br />from FSharp.Data</div>
<div class="fsdocs-tip" id="fs17">val Json : string = &quot;application/json&quot;</div>
<div class="fsdocs-tip" id="fs18">val response : HttpResponse</div>
<div class="fsdocs-tip" id="fs19">static member Http.Request : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:System.Net.CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(System.Net.HttpWebRequest -&gt; System.Net.HttpWebRequest) * ?timeout:int -&gt; HttpResponse</div>
<div class="fsdocs-tip" id="fs20">HttpResponse.Headers: Map&lt;string,string&gt;</div>
<div class="fsdocs-tip" id="fs21">HttpResponse.Cookies: Map&lt;string,string&gt;</div>
<div class="fsdocs-tip" id="fs22">HttpResponse.ResponseUrl: string</div>
<div class="fsdocs-tip" id="fs23">HttpResponse.StatusCode: int</div>
<div class="fsdocs-tip" id="fs24">union case HttpRequestBody.FormValues: seq&lt;string * string&gt; -&gt; HttpRequestBody</div>
<div class="fsdocs-tip" id="fs25">val ContentType : contentType:string -&gt; string * string</div>
<div class="fsdocs-tip" id="fs26">union case HttpRequestBody.TextRequest: string -&gt; HttpRequestBody</div>
<div class="fsdocs-tip" id="fs27">val msdnUrl : className:string -&gt; string</div>
<div class="fsdocs-tip" id="fs28">val className : string</div>
<div class="fsdocs-tip" id="fs29">val root : string</div>
<div class="fsdocs-tip" id="fs30">val sprintf : format:Printf.StringFormat&lt;&#39;T&gt; -&gt; &#39;T</div>
<div class="fsdocs-tip" id="fs31">val docInCSharp : string</div>
<div class="fsdocs-tip" id="fs32">System.String.Contains(value: string) : bool<br />System.String.Contains(value: char) : bool<br />System.String.Contains(value: string, comparisonType: System.StringComparison) : bool<br />System.String.Contains(value: char, comparisonType: System.StringComparison) : bool</div>
<div class="fsdocs-tip" id="fs33">namespace System</div>
<div class="fsdocs-tip" id="fs34">namespace System.Net</div>
<div class="fsdocs-tip" id="fs35">val cc : CookieContainer</div>
<div class="fsdocs-tip" id="fs36">Multiple items<br />type CookieContainer =<br />&#160;&#160;new : unit -&gt; unit + 2 overloads<br />&#160;&#160;member Add : cookie: Cookie -&gt; unit + 3 overloads<br />&#160;&#160;member GetCookieHeader : uri: Uri -&gt; string<br />&#160;&#160;member GetCookies : uri: Uri -&gt; CookieCollection<br />&#160;&#160;member SetCookies : uri: Uri * cookieHeader: string -&gt; unit<br />&#160;&#160;static val DefaultCookieLengthLimit : int<br />&#160;&#160;static val DefaultCookieLimit : int<br />&#160;&#160;static val DefaultPerDomainCookieLimit : int<br />&#160;&#160;member Capacity : int<br />&#160;&#160;member Count : int<br />&#160;&#160;...<br /><br />--------------------<br />CookieContainer() : CookieContainer<br />CookieContainer(capacity: int) : CookieContainer<br />CookieContainer(capacity: int, perDomainCapacity: int, maxCookieSize: int) : CookieContainer</div>
<div class="fsdocs-tip" id="fs37">Multiple items<br />namespace System.Net.Http<br /><br />--------------------<br />type Http =<br />&#160;&#160;private new : unit -&gt; Http<br />&#160;&#160;static member private AppendQueryToUrl : url:string * query:(string * string) list -&gt; string<br />&#160;&#160;static member AsyncRequest : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; Async&lt;HttpResponse&gt;<br />&#160;&#160;static member AsyncRequestStream : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; Async&lt;HttpResponseWithStream&gt;<br />&#160;&#160;static member AsyncRequestString : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; Async&lt;string&gt;<br />&#160;&#160;static member private EncodeFormData : query:string -&gt; string<br />&#160;&#160;static member private InnerRequest : url:string * toHttpResponse:(string -&gt; int -&gt; string -&gt; string -&gt; &#39;a0 option -&gt; Map&lt;string,string&gt; -&gt; Map&lt;string,string&gt; -&gt; Stream -&gt; Async&lt;&#39;a1&gt;) * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:&#39;a0 * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; Async&lt;&#39;a1&gt;<br />&#160;&#160;static member Request : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; HttpResponse<br />&#160;&#160;static member RequestStream : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; HttpResponseWithStream<br />&#160;&#160;static member RequestString : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; string</div>
<div class="fsdocs-tip" id="fs38">static member Http.RequestString : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; string</div>
<div class="fsdocs-tip" id="fs39">val ignore : value:&#39;T -&gt; unit</div>
<div class="fsdocs-tip" id="fs40">val docInFSharp : string</div>
<div class="fsdocs-tip" id="fs41">val logoUrl : string</div>
<div class="fsdocs-tip" id="fs42">static member Http.Request : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; HttpResponse</div>
<div class="fsdocs-tip" id="fs43">union case HttpResponseBody.Text: string -&gt; HttpResponseBody</div>
<div class="fsdocs-tip" id="fs44">val text : string</div>
<div class="fsdocs-tip" id="fs45">union case HttpResponseBody.Binary: byte [] -&gt; HttpResponseBody</div>
<div class="fsdocs-tip" id="fs46">val bytes : byte []</div>
<div class="fsdocs-tip" id="fs47">property System.Array.Length: int with get</div>
<div class="fsdocs-tip" id="fs48">namespace System.Security</div>
<div class="fsdocs-tip" id="fs49">namespace System.Security.Cryptography</div>
<div class="fsdocs-tip" id="fs50">namespace System.Security.Cryptography.X509Certificates</div>
<div class="fsdocs-tip" id="fs51">val clientCert : X509Certificate2</div>
<div class="fsdocs-tip" id="fs52">Multiple items<br />type X509Certificate2 =<br />&#160;&#160;inherit X509Certificate<br />&#160;&#160;new : unit -&gt; unit + 16 overloads<br />&#160;&#160;member GetNameInfo : nameType: X509NameType * forIssuer: bool -&gt; string<br />&#160;&#160;member Import : rawData: byte [] -&gt; unit + 5 overloads<br />&#160;&#160;member Reset : unit -&gt; unit<br />&#160;&#160;member ToString : unit -&gt; string + 1 overload<br />&#160;&#160;member Verify : unit -&gt; bool<br />&#160;&#160;static member CreateFromEncryptedPem : certPem: ReadOnlySpan&lt;char&gt; * keyPem: ReadOnlySpan&lt;char&gt; * password: ReadOnlySpan&lt;char&gt; -&gt; X509Certificate2<br />&#160;&#160;static member CreateFromEncryptedPemFile : certPemFilePath: string * password: ReadOnlySpan&lt;char&gt; *?keyPemFilePath: string -&gt; X509Certificate2<br />&#160;&#160;static member CreateFromPem : certPem: ReadOnlySpan&lt;char&gt; * keyPem: ReadOnlySpan&lt;char&gt; -&gt; X509Certificate2<br />&#160;&#160;...<br /><br />--------------------<br />X509Certificate2() : X509Certificate2<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />X509Certificate2(rawData: byte []) : X509Certificate2<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />X509Certificate2(handle: nativeint) : X509Certificate2<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />X509Certificate2(rawData: System.ReadOnlySpan&lt;byte&gt;) : X509Certificate2<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />X509Certificate2(certificate: X509Certificate) : X509Certificate2<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />X509Certificate2(fileName: string) : X509Certificate2<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />X509Certificate2(rawData: byte [], password: System.Security.SecureString) : X509Certificate2<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />X509Certificate2(rawData: byte [], password: string) : X509Certificate2<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />X509Certificate2(fileName: string, password: System.Security.SecureString) : X509Certificate2<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />X509Certificate2(fileName: string, password: string) : X509Certificate2<br />&#160;&#160;&#160;<em>(+0 other overloads)</em></div>
<div class="fsdocs-tip" id="fs53">val req : HttpWebRequest</div>
<div class="fsdocs-tip" id="fs54">property HttpWebRequest.ClientCertificates: X509CertificateCollection with get, set</div>
<div class="fsdocs-tip" id="fs55">X509CertificateCollection.Add(value: X509Certificate) : int</div>

        </div>

        <!-- BEGIN SEARCH BOX: this adds support for the search box -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
        <script type="text/javascript">var fsdocs_search_baseurl = 'https://fsprojects.github.io/FSharp.Data/';</script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.8/lunr.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.min.js"></script>
        <script type="text/javascript" src="https://fsprojects.github.io/FSharp.Data/content/fsdocs-search.js"></script>
        <!-- END SEARCH BOX: this adds support for the search box -->
    </div>
</body>

</html>

